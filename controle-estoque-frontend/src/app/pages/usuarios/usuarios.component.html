<div class="container">
    <h1>Gestão de Usuários</h1>

    <!-- Formulário para Cadastrar Usuário -->
    <section class="form-section">
        <h2>Cadastrar Novo Usuário</h2>
        <form #usuarioForm="ngForm" (ngSubmit)="cadastrarUsuario()">
            <label for="nome">Nome</label>
            <input type="text" id="nome" name="nome" [(ngModel)]="novoUsuario.nome" required>
            
            <label for="email">E-mail</label>
            <input type="email" id="email" name="email" [(ngModel)]="novoUsuario.email" required>
            
            <label for="cpf">CPF</label>
            <input type="number" id="cpf" name="cpf" [(ngModel)]="novoUsuario.cpfCnpj" required>
            
            <label for="endereco">Endereço</label>
            <input type="text" id="endereco" name="endereco" [(ngModel)]="novoUsuario.endereco">

            <label for="telefone">Telefone</label>
            <input type="tel" id="telefone" name="telefone" [(ngModel)]="novoUsuario.telefone">

            <label for="tipoUsuario">Tipo de Usuário</label>
            <select id="tipoUsuario" name="tipoUsuario" [(ngModel)]="novoUsuario.tipoUsuario" required>
                <option value="" disabled>Selecione o Tipo</option>
                <option *ngFor="let tipo of tiposUsuario" [value]="tipo">{{ tipo }}</option>
            </select>

            <button type="submit" [disabled]="!usuarioForm.form.valid">Cadastrar</button>
        </form>
        <p *ngIf="feedback" [ngStyle]="{'color': feedbackColor}">{{ feedback }}</p>
    </section>

    <hr>

    <!-- Seção para Listar Usuários -->
    <section class="list-section">
        <h2>Usuários Cadastrados</h2>
        <table id="usuarios-tabela">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Nome</th>
                    <th>E-mail</th>
                    <th>CPF</th>
                    <th>Endereço</th>
                    <th>Telefone</th>
                    <th>Tipo</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let usuario of usuarios">
                    <td>{{ usuario.idPessoa }}</td>
                    <td>{{ usuario.nome }}</td>
                    <td>{{ usuario.email }}</td>
                    <td>{{ usuario.cpfCnpj }}</td>
                    <td>{{ usuario.endereco }}</td>
                    <td>{{ usuario.telefone }}</td>
                    <td>{{ usuario.tipoUsuario }}</td>
                </tr>
            </tbody>
        </table>
        <p *ngIf="usuarios.length === 0">Nenhum usuário cadastrado.</p>
    </section>
</div>
